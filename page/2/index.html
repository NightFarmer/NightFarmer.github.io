<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>NightFarmer&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="NightFarmer's Blog">
<meta property="og:url" content="http://nightfarmer.github.io/page/2/index.html">
<meta property="og:site_name" content="NightFarmer's Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NightFarmer's Blog">
  
    <link rel="alternative" href="/atom.xml" title="NightFarmer&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false,
      }
  </script>

  
      <script>
          yiliaConfig.rootUrl = "/";
      </script>
  

  
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn js-avatar">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">NightFarmer</a></h1>
        </hgroup>

        
        <p class="header-subtitle">理论指导实践，实践深化理论</p>
        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:494090597@qq.com" title="Email"></a></li>
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/NightFarmer" title="新浪微博"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/NightFarmer" title="GitHub"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/AS/" style="font-size: 11.43px;">AS</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Android架构/" style="font-size: 10px;">Android架构</a> <a href="/tags/Async/" style="font-size: 10px;">Async</a> <a href="/tags/Bezier曲线/" style="font-size: 10px;">Bezier曲线</a> <a href="/tags/Doc/" style="font-size: 10px;">Doc</a> <a href="/tags/EventBus/" style="font-size: 10px;">EventBus</a> <a href="/tags/File/" style="font-size: 10px;">File</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 12.86px;">JavaScript</a> <a href="/tags/Kotlin/" style="font-size: 12.86px;">Kotlin</a> <a href="/tags/Lua/" style="font-size: 10px;">Lua</a> <a href="/tags/NDK/" style="font-size: 10px;">NDK</a> <a href="/tags/ReactNative/" style="font-size: 11.43px;">ReactNative</a> <a href="/tags/RecyclerView/" style="font-size: 18.57px;">RecyclerView</a> <a href="/tags/RxAndroid/" style="font-size: 11.43px;">RxAndroid</a> <a href="/tags/RxJava/" style="font-size: 11.43px;">RxJava</a> <a href="/tags/ViewPager/" style="font-size: 10px;">ViewPager</a> <a href="/tags/cocos/" style="font-size: 10px;">cocos</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/okhttp/" style="font-size: 11.43px;">okhttp</a> <a href="/tags/orm/" style="font-size: 10px;">orm</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/列表动画/" style="font-size: 14.29px;">列表动画</a> <a href="/tags/动态代理/" style="font-size: 10px;">动态代理</a> <a href="/tags/动画/" style="font-size: 15.71px;">动画</a> <a href="/tags/工具/" style="font-size: 10px;">工具</a> <a href="/tags/干货/" style="font-size: 17.14px;">干货</a> <a href="/tags/数据存储/" style="font-size: 10px;">数据存储</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/热更新/" style="font-size: 10px;">热更新</a> <a href="/tags/特效/" style="font-size: 10px;">特效</a> <a href="/tags/自定义控件/" style="font-size: 17.14px;">自定义控件</a> <a href="/tags/适配/" style="font-size: 10px;">适配</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://git.oschina.net/">Git@OSC</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://ice1000.org/">ice1000</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">我就是我 是颜色不一样的烟火</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">NightFarmer</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">NightFarmer</a></h1>
            </hgroup>
            
            <p class="header-subtitle">理论指导实践，实践深化理论</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:494090597@qq.com" title="Email"></a></li>
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/NightFarmer" title="新浪微博"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/NightFarmer" title="GitHub"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-ColorTheme" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/07/ColorTheme/" class="article-date">
      <time datetime="2016-09-07T07:56:43.000Z" itemprop="datePublished">2016-09-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/07/ColorTheme/">给应用增加动态切换主题配色的功能</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>最近发现BiliBili客户端有个非常个性的功能, 提供了夜间模式/少女粉/姨妈红/胖次蓝/基佬紫等主题配色供用户切换选择, 不但丰富了用户了的视觉体验, 而且一定程度的增加了产品的收入, 是的你没看错,BiliBili客户端的很多配色主题都是要花费硬币的. 这么酷炫又实用的功能当然不能错过了!<br>上图:<br><img src="http://nightfarmer.github.io/public/static/image/ColorTheme.gif" alt="颜色主题效果"><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/09/07/ColorTheme/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-RxJavaFuncs" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/01/RxJavaFuncs/" class="article-date">
      <time datetime="2016-09-01T07:38:23.000Z" itemprop="datePublished">2016-09-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/01/RxJavaFuncs/">RxJava常用操作符分类总汇</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p><a href="http://nightfarmer.github.io/2016/08/31/RxJavaClick/">上文</a>提到ReactiveX在多种语言和平台上都存在着自己的实现，同时也都实现了一套操作符，在这些语言平台中有一些操作符的实现是重叠的，也有一些只存在于特定的平台实现中。每种实现都会根据当前平台的命名规范给这些操作符定义相似的命名。<br>本文收集了Java平台Rx的一些常用操作符，并对这些操作符进行分类并简单注释这些操作符的含义和用法。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RxJava/">RxJava</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/干货/">干货</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/09/01/RxJavaFuncs/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-RxJavaClick" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/31/RxJavaClick/" class="article-date">
      <time datetime="2016-08-31T00:56:49.000Z" itemprop="datePublished">2016-08-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/31/RxJavaClick/">使用RxJava实现多次连续点击的事件监听</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>说起响应试编程，要提到的当然是Rx系列的库了，Rx系列的库对于很多语言和平台的运用是非常广泛的，例如(.NET,Java, Scala, Clojure, JavaScript, Ruby, Python, C++, Objective-C/Cocoa, Groovy等等。而本篇将会记录如何使用RxJava对Android点击事件的监听以异步数据流的方式来进行处理，从而实现对多次点击事件的监听。<br>多次点击事件的监听在Android中应用还是比较广泛的，比如“再次点击关闭应用程序”，又比如7次连续点击开启开发者模式等等。常规的设计无非是定义一个变量来记录点击的时间差或者定义一个线程来重置连击标识，然而这样的设计写出来的代码并不好看，而且可读性不高不易扩展。但是使用RxJava来实现就不会有上述这些问题了，而代码非常简洁。<br>上示例图：<br><img src="http://nightfarmer.github.io/public/static/image/RxAndroidClick.gif" alt="多次点击示例"><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RxAndroid/">RxAndroid</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RxJava/">RxJava</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/31/RxJavaClick/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-GoogleMVP" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/24/GoogleMVP/" class="article-date">
      <time datetime="2016-08-24T02:51:06.000Z" itemprop="datePublished">2016-08-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/24/GoogleMVP/">浅析Google官方AndroidMVP架构示例</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>传统的MVC架构是个非常经典的设计，它将系统的任务进行分层，将代码分割到模型(model)－视图(view)－控制器(controller)三个层面来实现解耦，从而简化开发流程，实现开发任务的分离。<br>而在android平台中，xml布局文件作为视图的承载能力并不强，通常会将一部分的view操作放在Activity/Fragment中来处理，而Activity/Fragment通常又担任了controller的角色，这就造成了V和C在Android中通常融合在一起，以至MVC的设计架构在Android中并不能进行很好的分层，形成了一种貌合神离的现象。<br>在这样的背景下，MVP设计架构应运而生。在MVP中单独抽离了一个P(Presenter)层来负责数据流向控制的角色，而xml布局文件和Activity则统一作为V(View)来单一的负责视图的生成和变更。<br>对于Android中MVP设计架构Google也提供了一些sample，本篇摘取一个待办事项的示例来初步解析Google官方对MVP的实现方式。</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android架构/">Android架构</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/24/GoogleMVP/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-BezierDrawer" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/23/BezierDrawer/" class="article-date">
      <time datetime="2016-08-23T02:51:11.000Z" itemprop="datePublished">2016-08-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/23/BezierDrawer/">做一个二阶Bezier曲线的绘图工具</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>在开发一些特效或者控件的时候常常会用到一些数学函数，除了三角数学函数外，使用最多的就是Bezier了，也就是我们常说的贝塞尔曲线。<br>Android开发中常常会使用Bezier曲线绘制一些图形，或者使用Bezier曲线生成一些动画的运动轨迹，亦或者使用贝塞尔曲线制作动画的差值器。<br>总之，这是一个作用非常大的东西，它不像三角数学函数那样有固定的曲线特性，而是根据参数的变更而呈现出不同的曲线，可以这样说，Bezier曲线可以根据用户的需求调整自身的曲线形式，可以满足绝大部分用户对曲线的需求，如果不能，那就再加一阶。<br>本篇的初衷是因为贝塞尔函数看起来是非常抽象的，使用时则需要不断调整参数来尝试出合适的结果，而本工具则是根据调整出的曲线逆向显示出函数的参数，废话不多说，上图：<br><img src="http://nightfarmer.github.io/public/static/image/BezierDrawer.gif" alt="Bezier曲线绘制效果"><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bezier曲线/">Bezier曲线</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/工具/">工具</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/23/BezierDrawer/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-ProxyRequst" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/19/ProxyRequst/" class="article-date">
      <time datetime="2016-08-19T04:58:03.000Z" itemprop="datePublished">2016-08-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/19/ProxyRequst/">使用动态代理对网络请求接口进行面向对象封装</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>在android中常规的网络请求方式是把URL地址作为常量放在某个固定的类中，比如定义一个URLConstant，里面定义URL1/URL2/URL3等等，在使用的时候使用URLConstant.URL1这样的形式来获取真实的网络地址。而每一个网络接口的参数列表则是放在另外一个类或者临时赋值，在这样的设计情况下，在网络接口达到一定量的时候会出现一个URL地址找不到对应的参数列表的困扰，因为太多了。<br>或许在真实实践中可以通过注释或者规范的命名来规避这个问题，但是我们仍然需要考虑有没有一种更好的解决方案呢？比如这样来调用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//调用：</span></div><div class="line">IPersonServer iPersonServer = ServerBuilder.build(<span class="keyword">this</span>, IPersonServer.class);</div><div class="line">Person person = iPersonServer.getPersonById(<span class="string">"003"</span>);</div><div class="line"><span class="comment">//定义：</span></div><div class="line"><span class="meta">@Intf</span>(<span class="string">"/persons"</span>)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IPersonServer</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Request</span>(<span class="string">"/get"</span>)</div><div class="line">    <span class="function">Person <span class="title">getPersonById</span><span class="params">(@Param(<span class="string">"personId"</span>)</span> String id)</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>看起来是不是非常清爽，我们请求一些数据的时候只需要调用相应的java接口以及方法即可，而不用关心这个网络接口需要哪些参数，因为这个java接口已经帮我们约束了，那么接下来我们就记录一下如何实现网络请求的面向对象封装。</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Java/">Java</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动态代理/">动态代理</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/19/ProxyRequst/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-luabridge" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/10/luabridge/" class="article-date">
      <time datetime="2016-08-10T06:17:23.000Z" itemprop="datePublished">2016-08-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/10/luabridge/">有关Android热更新/热补丁的一种新的解决方案</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>在Android开发工作中热更新一直是个遗留问题，虽然GooglePlay或者苹果商店的应用审核中都是禁止App这么做的，但仍有大量的开发者想要通过热更新或者热补丁来对已经发布的应用进行更新，而不用重新打包发布一个新的版本，毕竟一个刚发布的应用如果因为一个小bug而让用户再次进行更新，一是用户体验不好，二是发布的过程太过繁琐。<br>之前也因为热更新的问题做过各种各样的尝试，包括H5，ReactNative，动态加载dex，使用Javascript和java交互等，单都因为各种原因造成不能在生产环境中使用。</p>
<table>
<thead>
<tr>
<th style="text-align:left">方案</th>
<th style="text-align:left">问题</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">H5/H5+</td>
<td style="text-align:left">性能瓶颈在于设备WebView对html和JS的解析效率, 且WebView的加载是异步的，界面初始化时会空白一段时间，尝试使用腾讯TBS以及H5+SDK效果并不理想，尝试使用各种mobileUI框架依然存在卡顿帧数过低等各种不理想的问题。</td>
</tr>
<tr>
<td style="text-align:left">ReactNative</td>
<td style="text-align:left">RN是FaceBook提供的一个跨平台的开发框架，使用NodeJs来写JSX和CSS来进行布局和实现业务逻辑，门槛稍高(这不是问题)，使用RN实现的Android和iOS应用可用达到和原生应用相媲美的流畅度(也确实是原生的)，可以通过从服务器下载js文件来实现热更新，但是如果想要实现原生应用酷炫的效果则是不满足的，且自定义控件的事件传递会被RN容器干扰，RN本来是为iOS而设计的，近期才考虑兼容了Android，对android的支持也还暂时不充足。</td>
</tr>
<tr>
<td style="text-align:left">动态加载dex</td>
<td style="text-align:left">在Dalvik虚拟机下的android环境这个方案是可行的，但是在android4.4之后google发布了新的虚拟机(ART)，因ART在app安装过程会对dex的bytecode进行优化并进一步解析成机器码，使得在程序运行期间hook代码变得更有难度，在不能放弃5.0及之后的用户的前提下，这个问题是致命的</td>
</tr>
<tr>
<td style="text-align:left">Javascript</td>
<td style="text-align:left">使用jDK或者webview解析Javascript也能实现一部分的业务逻辑转移，但此方案的局限性太大，不能大规模的使用。</td>
</tr>
</tbody>
</table>
<p>上面这些是我从接触热更新到目前为止所踩过的坑，可以看到暂时是没有任何一个方案是比较完善或者能用在生产环境的。<br>那么下面，高能来了。</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Lua/">Lua</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NDK/">NDK</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/热更新/">热更新</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/10/luabridge/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-CircleWave" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/08/CircleWave/" class="article-date">
      <time datetime="2016-08-08T03:48:17.000Z" itemprop="datePublished">2016-08-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/08/CircleWave/">通过自定义控件绘制实现雷达/水波纹的动画扩散效果</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>前些天发现支付宝的“咻一咻”挺有意思的，点击之后会出现波纹状的涟漪向四周扩散，波纹的深浅会随着扩散的距离逐渐减弱，最后消失不见，而且这这些波纹的扩散距离以及产生频率是固定不变的，然后循环执行下去。<br>效果图：<br><img src="http://nightfarmer.github.io/public/static/image/CircleWave.gif" alt="水波扩散效果"><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动画/">动画</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/自定义控件/">自定义控件</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/08/CircleWave/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-SatelliteButton" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/04/SatelliteButton/" class="article-date">
      <time datetime="2016-08-04T09:04:48.000Z" itemprop="datePublished">2016-08-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/04/SatelliteButton/">设计一个通用的卫星菜单</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>卫星菜单算是一个非常久远的控件效果了，到现在也存在了各种各样的开源的此类控件，至于为什么要重复造轮子，是因为翻阅了一些卫星菜单的实现源码发现这些代码水平参差不齐，无论是从整体设计或是逻辑实现或是代码简洁度以及扩展性上都没有找到比较满意的。<br>鉴于这个效果的实现并不复杂，还有昨天刚好做了个轮子(<a href="http://nightfarmer.github.io/2016/08/03/make-a-wheel/">上篇</a>)，所以打算做一个可复用/可灵活配置/具有较好封装/可以当做普通View来使用的卫星菜单控件。<br>老规矩先上效果图：<br><img src="http://nightfarmer.github.io/public/static/image/satellite1.gif" alt="不靠边360度示例"> <img src="http://nightfarmer.github.io/public/static/image/satellite2.gif" alt="靠角90度示例"> <img src="http://nightfarmer.github.io/public/static/image/satellite3.gif" alt="靠边180度示例"><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动画/">动画</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/自定义控件/">自定义控件</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/04/SatelliteButton/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-make-a-wheel" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/03/make-a-wheel/" class="article-date">
      <time datetime="2016-08-03T03:07:47.000Z" itemprop="datePublished">2016-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/03/make-a-wheel/">造一个“轮子”</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>不知为何，突然想造一个轮子。</p>
<p><img src="http://nightfarmer.github.io/public/static/image/awheel.gif" alt="轮子示例"><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Android/">Android</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动画/">动画</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/自定义控件/">自定义控件</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/08/03/make-a-wheel/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2017 NightFarmer
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme Yelee by MOxFIVE
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>


<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>